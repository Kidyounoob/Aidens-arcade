<!doctype html>
<html lang="en" data-mode="dark" data-theme="darkwater">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="color-scheme" content="dark light" />
    <title>Remy Tank Run â€¢ Aidenâ€™s Arcade</title>

    <link rel="stylesheet" href="../../styles.css?v=2" />
    <!-- IMPORTANT: bump this v= number to kill cache -->
    <link rel="stylesheet" href="./remy.css?v=1000" />

    <script defer src="../../app.js?v=2"></script>
    <script defer src="./remy.js?v=3"></script>
  </head>

  <body>
    <a class="skip" href="#main">Skip to content</a>

    <div class="bg" aria-hidden="true">
      <div class="pattern"></div>
      <div class="grain"></div>
      <div class="blob a"></div>
      <div class="blob b"></div>
      <div class="blob c"></div>
    </div>

    <header>
      <div class="container nav">
        <a class="brand" href="../../" aria-label="Aidenâ€™s Arcade home">
          <span class="mark" aria-hidden="true">ðŸŒŠ</span>
          <span>Aidenâ€™s <span class="accent">Arcade</span></span>
        </a>

        <nav class="links" aria-label="Pages">
          <a class="link" href="../">Games</a>
          <a class="link" href="../../watch/">Watch</a>
          <a class="link" href="../../emulation/">Emulation</a>
          <a class="link" href="../../portal/">Portal</a>
        </nav>

        <div class="actions">
          <select class="select" id="themeSelect" aria-label="Theme">
            <option value="darkwater" selected>Dark Water</option>
            <option value="greatwave">Great Wave</option>
            <option value="deepsea">Deep Sea</option>
            <option value="ink">Ink + Water</option>
          </select>

          <button class="icon" id="modeBtn" type="button" aria-label="Toggle mode">
            <span id="modeIcon" aria-hidden="true">â˜¾</span>
          </button>

          <button class="icon burger" id="burgerBtn" type="button" aria-label="Open menu" aria-expanded="false">
            <span aria-hidden="true">â‰¡</span>
          </button>
        </div>
      </div>

      <div class="container mobile" id="mobileMenu" hidden>
        <a href="../">Games</a>
        <a href="../../watch/">Watch</a>
        <a href="../../emulation/">Emulation</a>
        <a href="../../portal/">Portal</a>
      </div>
    </header>

    <main id="main">
      <section class="section container">
        <div class="head">
          <h2>Remy Tank Run</h2>
          <p>Jump: â†‘ / W / click / tap â€¢ Duck: â†“ / S / hold Duck â€¢ Shoot: Space (cooldown)</p>
        </div>

        <div class="remyWrap">
          <div class="card remyHud">
            <div class="remyStats">
              <div class="remyStat">
                <div class="remyStatLabel">Score</div>
                <div class="remyStatValue" id="score">0</div>
              </div>
              <div class="remyStat">
                <div class="remyStatLabel">High</div>
                <div class="remyStatValue" id="high">0</div>
              </div>
              <div class="remyStat">
                <div class="remyStatLabel">Speed</div>
                <div class="remyStatValue"><span id="speed">1.0</span>x</div>
              </div>
              <div class="remyStat">
                <div class="remyStatLabel">Coins</div>
                <div class="remyStatValue"><span id="coinsRun">0</span></div>
              </div>
              <div class="remyStat">
                <div class="remyStatLabel">Streak</div>
                <div class="remyStatValue"><span id="streak">0</span></div>
              </div>
              <div class="remyStat">
                <div class="remyStatLabel">Shield</div>
                <div class="remyStatValue" id="shield">Off</div>
              </div>
            </div>

            <div class="remyBtns">
              <button class="btn primary" id="startBtn" type="button">Start</button>
              <button class="btn" id="pauseBtn" type="button">Pause</button>
              <button class="btn" id="resetBtn" type="button">Reset</button>
              <button class="btn" id="settingsBtn" type="button">Settings</button>
            </div>

            <div class="remyHint">
              Tip: coins buy upgrades + skins. Power-ups: âš¡ rapid fire â€¢ ðŸ›¡ shield â€¢ â‡ˆ double jump. Boss car appears sometimes.
            </div>
          </div>

          <div class="card remyStage">
            <canvas id="game" width="960" height="420" aria-label="Remy Tank Run canvas"></canvas>

            <!-- âœ… Live top scoreboard bar on the canvas -->
            <div class="remyTopBar" aria-hidden="true">
              <div class="remyTopItem">Score <span id="topScore">0</span></div>
              <div class="remyTopItem">High <span id="topHigh">0</span></div>
              <div class="remyTopItem">Coins <span id="topCoins">0</span></div>
              <div class="remyTopItem">Streak <span id="topStreak">0</span></div>
              <div class="remyTopItem">Speed <span id="topSpeed">1.0</span>x</div>
              <div class="remyTopItem">Shot <span id="shotStatus">â€”</span></div>
              <div class="remyTopItem">Power <span id="powerStatus">None</span></div>
            </div>

            <div class="remyToast" id="toast" hidden aria-live="polite"></div>

            <div class="remyOverlay" id="overlay" hidden>
              <div class="remyOverlayBox">
                <div class="remyTitle" id="overlayTitle">Remy Tank Run</div>
                <div class="remySub" id="overlaySub">Press Start. Jump with â†‘ / tap. Shoot with Space.</div>

                <div class="remyScoreSubmit" id="scoreSubmit" hidden>
                  <div class="remyField">
                    <div class="remyFieldLabel">Save your score</div>
                    <input class="input" id="playerName" maxlength="14" placeholder="Your name" />
                  </div>
                  <button class="btn primary" id="saveScoreBtn" type="button">Save to Top 10</button>
                </div>

                <div class="remyOverlayBtns">
                  <button class="btn primary" id="overlayStart" type="button">Start</button>
                  <button class="btn" id="overlaySettings" type="button">Settings</button>
                  <a class="btn" href="../">Back to Games</a>
                </div>
              </div>
            </div>

            <!-- âœ… Settings / Leaderboard / Achievements modal -->
            <div class="remyModal" id="settingsModal" hidden>
              <div class="remyModalBox" role="dialog" aria-modal="true" aria-label="Settings">
                <div class="remyModalHead">
                  <div class="remyModalTitle">Settings</div>
                  <button class="icon" id="closeSettings" type="button" aria-label="Close">âœ•</button>
                </div>

                <div class="remyModalGrid">
                  <div class="remyPanel">
                    <div class="remyPanelTitle">Game</div>
                    <label class="remyField">
                      <div class="remyFieldLabel">Difficulty</div>
                      <select class="select" id="difficultySelect">
                        <option value="easy">Easy</option>
                        <option value="normal" selected>Normal</option>
                        <option value="hard">Hard</option>
                      </select>
                    </label>

                    <label class="remyField">
                      <div class="remyFieldLabel">Skin</div>
                      <select class="select" id="skinSelect"></select>
                    </label>

                    <div class="remyRow">
                      <button class="btn" id="resetHighBtn" type="button">Reset High</button>
                      <button class="btn" id="clearDataBtn" type="button">Clear Data</button>
                    </div>

                    <div class="small remySmall" id="dataNote"></div>
                  </div>

                  <div class="remyPanel">
                    <div class="remyPanelTitle">Audio</div>
                    <label class="remyField">
                      <div class="remyFieldLabel">Volume</div>
                      <input id="volumeRange" type="range" min="0" max="1" step="0.01" />
                    </label>
                    <div class="small remySmall" id="volumeLabel"></div>
                  </div>

                  <div class="remyPanel">
                    <div class="remyPanelTitle">Visual</div>
                    <label class="remyCheck"><input id="motionBlurToggle" type="checkbox" /> Motion blur</label>
                    <label class="remyCheck"><input id="alwaysRainToggle" type="checkbox" /> Always rain</label>
                    <div class="small remySmall">Day/night + weather cycle runs automatically.</div>
                  </div>

                  <div class="remyPanel">
                    <div class="remyPanelTitle">Shop</div>
                    <div class="small remySmall">Coins: <b><span id="totalCoins">0</span></b></div>

                    <div class="remyShopRow">
                      <button class="btn primary" id="buyShotUpBtn" type="button">Upgrade Shot (-1s)</button>
                      <div class="small remySmall" id="shotUpInfo"></div>
                    </div>

                    <div class="remyShopRow">
                      <button class="btn" id="unlockSkinsBtn" type="button">Unlock All Skins</button>
                      <div class="small remySmall" id="skinsInfo"></div>
                    </div>
                  </div>

                  <div class="remyPanel">
                    <div class="remyPanelTitle">Leaderboard (Top 10)</div>
                    <ol class="remyList" id="leaderboardList"></ol>
                  </div>

                  <div class="remyPanel">
                    <div class="remyPanelTitle">Achievements</div>
                    <ul class="remyList" id="achList"></ul>
                  </div>

                  <div class="remyPanel">
                    <div class="remyPanelTitle">Controls</div>
                    <div class="small remySmall">
                      Jump: â†‘ / W / tap<br />
                      Duck: â†“ / S / hold Duck<br />
                      Shoot: Space / Shoot button<br />
                      Pause: P â€¢ Reset: R
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="card remyMobile">
            <div class="remyMobileRow">
              <button class="btn primary remyBigBtn" id="jumpBtn" type="button">Jump</button>
              <button class="btn remyBigBtn" id="duckBtn" type="button">Duck</button>
              <button class="btn remyBigBtn" id="shootBtn" type="button">Shoot</button>
            </div>
            <div class="remyHint">Mobile: tap Jump â€¢ hold Duck â€¢ tap Shoot (cooldown shows on top bar).</div>
          </div>
        </div>
      </section>
    </main>

    <footer>
      <div class="container foot">
        <div>
          <div class="footBrand">Aidenâ€™s Arcade</div>
          <div class="small">Remy Tank Run â€¢ <span id="year"></span></div>
        </div>
      </div>
    </footer>
  </body>
</html>
