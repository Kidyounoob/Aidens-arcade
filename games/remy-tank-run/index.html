<!doctype html>
<html lang="en" data-mode="dark" data-theme="darkwater">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="color-scheme" content="dark light" />
    <title>Remy Tank Run â€¢ Aidenâ€™s Arcade</title>

    <link rel="stylesheet" href="../../styles.css?v=2" />
    <!-- IMPORTANT: bump this v= number to kill cache -->
    <link rel="stylesheet" href="./remy.css?v=1002" />

    <!-- âœ… Global Live Leaderboard (Firebase Firestore - Realtime)
         1) Create Firebase project
         2) Enable Firestore Database
         3) Paste your config into REMY_FIREBASE_CONFIG below (keep keys as-is)
         4) Set Firestore rules to allow read/write (or stricter with validation)
    -->
    <script>
      // Paste your Firebase web app config here (from Firebase console).
      // If left null, leaderboard will run in local-only mode.
      window.REMY_FIREBASE_CONFIG = null;

      // Example:
      // window.REMY_FIREBASE_CONFIG = {
      //   apiKey: "XXX",
      //   authDomain: "XXX.firebaseapp.com",
      //   projectId: "XXX",
      //   storageBucket: "XXX.appspot.com",
      //   messagingSenderId: "XXX",
      //   appId: "XXX"
      // };
    </script>

    <!-- Firebase compat UMD bundles via cdnjs -->
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/firebase/12.3.0/firebase-app-compat.min.js"></script>
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/firebase/12.3.0/firebase-firestore-compat.min.js"></script>

    <script defer src="../../app.js?v=2"></script>
    <script defer src="./remy.js?v=7"></script>
  </head>

  <body>
    <a class="skip" href="#main">Skip to content</a>

    <div class="bg" aria-hidden="true">
      <div class="pattern"></div>
      <div class="grain"></div>
      <div class="blob a"></div>
      <div class="blob b"></div>
      <div class="blob c"></div>
    </div>

    <header>
      <div class="container nav">
        <a class="brand" href="../../" aria-label="Aidenâ€™s Arcade home">
          <span class="mark" aria-hidden="true">ðŸŒŠ</span>
          <span>Aidenâ€™s <span class="accent">Arcade</span></span>
        </a>

        <nav class="links" aria-label="Pages">
          <a class="link" href="../">Games</a>
          <a class="link" href="../../watch/">Watch</a>
          <a class="link" href="../../emulation/">Emulation</a>
          <a class="link" href="../../portal/">Portal</a>
        </nav>

        <div class="actions">
          <select class="select" id="themeSelect" aria-label="Theme">
            <option value="darkwater" selected>Dark Water</option>
            <option value="greatwave">Great Wave</option>
            <option value="deepsea">Deep Sea</option>
            <option value="ink">Ink + Water</option>
          </select>

          <button class="icon" id="modeBtn" type="button" aria-label="Toggle mode">
            <span id="modeIcon" aria-hidden="true">â˜¾</span>
          </button>

          <button class="icon burger" id="burgerBtn" type="button" aria-label="Open menu" aria-expanded="false">
            <span aria-hidden="true">â‰¡</span>
          </button>
        </div>
      </div>

      <div class="container mobile" id="mobileMenu" hidden>
        <a href="../">Games</a>
        <a href="../../watch/">Watch</a>
        <a href="../../emulation/">Emulation</a>
        <a href="../../portal/">Portal</a>
      </div>
    </header>

    <main id="main">
      <section class="section container">
        <div class="head">
          <h2>Remy Tank Run</h2>
          <p>Jump: â†‘ / click / tap â€¢ Duck: â†“ (hold) â€¢ Shoot: Space â€¢ Powerups: âš¡ rapid, ðŸ›¡ shield â€¢ Shoot planes!</p>
        </div>

        <div class="remyWrap">
          <div class="card remyHud">
            <div class="remyStats">
              <div class="remyStat">
                <div class="remyStatLabel">Score</div>
                <div class="remyStatValue" id="score">0</div>
              </div>
              <div class="remyStat">
                <div class="remyStatLabel">High</div>
                <div class="remyStatValue" id="high">0</div>
              </div>
              <div class="remyStat">
                <div class="remyStatLabel">Speed</div>
                <div class="remyStatValue"><span id="speed">1.0</span>x</div>
              </div>
              <div class="remyStat">
                <div class="remyStatLabel">Power</div>
                <div class="remyStatValue" id="powerHud">None</div>
              </div>
            </div>

            <div class="remyBtns">
              <button class="btn primary" id="startBtn" type="button">Start</button>
              <button class="btn" id="pauseBtn" type="button">Pause</button>
              <button class="btn" id="resetBtn" type="button">Reset</button>
            </div>

            <div class="remyHint">Tip: grab âš¡ for rapid fire and ðŸ›¡ for one free hit.</div>
          </div>

          <!-- âœ… Left side leaderboard -->
          <div class="card remyBoard" aria-label="Leaderboard">
            <div class="remyBoardHead">
              <div class="remyBoardTitle">Leaderboard</div>
              <div class="remyBoardStatus" id="lbStatus">Local</div>
            </div>

            <ol class="remyBoardList" id="lbList"></ol>

            <div class="remyBoardSubmit">
              <input class="input remyBoardInput" id="lbName" maxlength="14" placeholder="Name" />
              <button class="btn primary" id="lbSubmit" type="button" disabled>Submit last score</button>
            </div>
            <div class="small remyBoardHint" id="lbHint">Finish a run to submit.</div>
          </div>

          <div class="card remyStage">
            <canvas id="game" width="960" height="420" aria-label="Remy Tank Run canvas"></canvas>

            <!-- âœ… Live bar over canvas -->
            <div class="remyTopBar" aria-hidden="true">
              <div class="remyTopItem">Score <span id="topScore">0</span></div>
              <div class="remyTopItem">High <span id="topHigh">0</span></div>
              <div class="remyTopItem">Speed <span id="topSpeed">1.0</span>x</div>
              <div class="remyTopItem">Shot <span id="shotStatus">â€”</span></div>
              <div class="remyTopItem">Power <span id="powerTop">None</span></div>
            </div>

            <div class="remyOverlay" id="overlay" hidden>
              <div class="remyOverlayBox">
                <div class="remyTitle" id="overlayTitle">Remy Tank Run</div>
                <div class="remySub" id="overlaySub">Press Start or Space to begin.</div>
                <div class="remyOverlayBtns">
                  <button class="btn primary" id="overlayStart" type="button">Start</button>
                  <a class="btn" href="../">Back to Games</a>
                </div>
              </div>
            </div>
          </div>

          <div class="card remyMobile">
            <div class="remyMobileRow">
              <button class="btn primary remyBigBtn" id="jumpBtn" type="button">Jump</button>
              <button class="btn remyBigBtn" id="duckBtn" type="button">Duck</button>
            </div>
            <div class="remyHint">Mobile: tap Jump â€¢ hold Duck â€¢ tap canvas to jump.</div>
          </div>
        </div>
      </section>
    </main>

    <footer>
      <div class="container foot">
        <div>
          <div class="footBrand">Aidenâ€™s Arcade</div>
          <div class="small">Remy Tank Run â€¢ <span id="year"></span></div>
        </div>
      </div>
    </footer>
  </body>
</html>
